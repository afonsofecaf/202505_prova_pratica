<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <title>Prova Pr√°tica ‚Äì Procedure e Trigger no Supabase</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body class="container my-5">

  <h1 class="text-primary">Link de Acesso: <a href="https://afonsofecaf.github.io/202505_prova_pratica" target="_blank">https://afonsofecaf.github.io/202505_prova_pratica</a></h1>

  <h1 class="text-primary">üß™ Prova Pr√°tica ‚Äì Procedure e Trigger no Supabase</h1>

  <h2 class="text-secondary mt-4">üìå Situa√ß√£o:</h2>
  <p>
    No Supabase, voc√™ deve criar uma <strong>procedure</strong> e uma <strong>trigger</strong> para que, sempre que for realizado um 
    <code>INSERT</code> na tabela <code>aluno</code>, automaticamente seja inserido um registro na tabela <code>logs</code> contendo:
  </p>

  <ul>
    <li>O <strong>ID</strong> do aluno inserido.</li>
    <li>A <strong>data e hora</strong> do momento da inser√ß√£o.</li>
  </ul>

  <h2 class="text-secondary mt-4">‚úÖ O que voc√™ precisa fazer:</h2>
  <ol>
    <li>Criar a tabela <code>logs</code> do zero, com os campos necess√°rios.</li>
    <li>Criar uma <strong>procedure</strong> que insira na tabela <code>logs</code>.</li>
    <li>Criar uma <strong>trigger</strong> que chame essa procedure ap√≥s um <code>INSERT</code> na tabela <code>aluno</code>.</li>
    <li>Executar o comando <code>INSERT</code> abaixo e garantir que ele funcione.</li>
    <li>Salvar e entregar todos os comandos SQL em um √∫nico arquivo com extens√£o <code>.sql</code>.</li>
  </ol>

  <h2 class="text-secondary mt-4">üì¶ Estrutura da tabela <code>aluno</code>:</h2>
  <pre class="bg-light p-3 rounded"><code>
CREATE TABLE aluno (
  id SERIAL PRIMARY KEY,
  nome VARCHAR(100) NOT NULL,
  email VARCHAR(100) UNIQUE NOT NULL
);
  </code></pre>

  <h2 class="text-secondary mt-4">‚ö†Ô∏è Regras obrigat√≥rias:</h2>
  <ul>
    <li>Voc√™ deve criar a tabela <code>logs</code> com os campos <code>aluno_id</code> (inteiro) e <code>data_insercao</code> (timestamp).</li>
    <li>A procedure deve ser parametrizada ou adequada para inserir os dados corretamente na <code>logs</code>.</li>
    <li>A trigger deve ser configurada para acionar a procedure automaticamente ap√≥s um <code>INSERT</code> na tabela <code>aluno</code>.</li>
  </ul>

  <h2 class="text-secondary mt-4">üöÄ Comando de inser√ß√£o obrigat√≥rio:</h2>
  <pre class="bg-light p-3 rounded"><code>
INSERT INTO aluno (nome, email) VALUES ('Jo√£o Silva', 'joao.silva@example.com');
  </code></pre>

  <h2 class="text-secondary mt-4">üìù Entrega:</h2>
  <p>Entregue um arquivo chamado <strong>prova_trigger.sql</strong> contendo, em sequ√™ncia:</p>
  <ul>
    <li>O <code>CREATE TABLE</code> da tabela <code>aluno</code>.</li>
    <li>O <code>CREATE TABLE</code> da tabela <code>logs</code>.</li>
    <li>O <code>CREATE PROCEDURE</code> ou <code>CREATE FUNCTION</code> dependendo do modelo escolhido.</li>
    <li>A <code>CREATE TRIGGER</code>.</li>
    <li>O comando <code>INSERT</code> para teste.</li>
  </ul>

  <p class="mb-0">
    O arquivo deve ser test√°vel diretamente no Supabase, executando todos os comandos sem necessidade de ajustes.
  </p>

</body>
</html>
